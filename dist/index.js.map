{"version":3,"file":"index.js","sources":["../src/props.js","../src/element.js","../src/cursor.js","../src/writing.js","../src/index.js"],"sourcesContent":["/**\n * @name setProps\n * @description Set the ityped properties configuration\n * @param {Object} config The configuration properties\n * @return {Promise}\n */\nexport const setProps = ({\n  strings = ['Put your strings here...', 'and Enjoy!'],\n  typeSpeed = 100,\n  waitDelay = 500,\n  startDelay = 500,\n  cursorChar = '|',\n  showCursor = true,\n  onFinished = function() {}\n}) => ({\n  strings,\n  typeSpeed,\n  cursorChar,\n  waitDelay,\n  startDelay,\n  showCursor,\n  onFinished\n})\n","export const getElement = element => \n  typeof element === \"string\" \n    ? document.querySelector(element)\n    : element","export const getCursor = props  => {\n  const { cursorChar } = props\n  const cursor = document.createElement('span')\n  cursor.classList.add('ityped-cursor')\n  cursor.textContent = cursorChar\n  return cursor\n}\n\nexport const insertCursor = (element, cursor, props) => \n  props.showCursor \n  ? element.insertAdjacentElement('afterend', cursor)\n  : null","const typeString = (word, i, el, props) => {\n  el.innerHTML += word[i]\n  if (i === word.length - 1) {\n    if (isLastLetterOfLastString(word, props)) {\n      return props.onFinished()\n    }\n    window.setTimeout(() => (el.innerHTML += '<br/>'), props.waitDelay)\n  }\n}\n\nconst isLastLetterOfLastString = (word, props) =>\n  props.strings.indexOf(word) === props.strings.length - 1\n\nconst writeString = (el, position, props, time) => {\n  const word = props.strings[position]\n  let i = 0\n  const startTick = window.setTimeout(() => {\n    Array.from(word).forEach((letter, i) =>\n      setTimeout(\n        () => typeString(word, i, el, props),\n        props.typeSpeed * (i + 1)\n      )\n    )\n  }, time)\n}\n\nexport const start = (element, props) => {\n  const times = []\n  const { strings, startDelay, typeSpeed, waitDelay } = props\n  const arrLen = strings.length\n  for (let i = 0; i < arrLen; i++) {\n    const len = strings[i].length\n    const prevTime = times[i - 1] || 0\n    const nextTime = prevTime + len * typeSpeed + startDelay + waitDelay\n    times.push(nextTime)\n    const time = i === 0 ? startDelay : startDelay + times[i - 1]\n    writeString(element, i, props, time)\n  }\n  console.log(times)\n}\n","import { setProps } from './props'\nimport { getElement } from './element'\nimport { insertCursor, getCursor } from './cursor'\nimport { start } from './writing'\n\nconst init = (el, config) => {\n  const \n    props = setProps(config || {}), \n    element = getElement(el)\n  insertCursor(element, getCursor(props), props)\n  start(element, props)\n}\n\nexport {\n  init\n}"],"names":["setProps","strings","typeSpeed","waitDelay","startDelay","cursorChar","showCursor","onFinished","getElement","element","document","querySelector","getCursor","props","cursor","createElement","classList","add","textContent","insertCursor","insertAdjacentElement","typeString","word","i","el","innerHTML","length","isLastLetterOfLastString","setTimeout","indexOf","writeString","position","time","startTick","window","from","forEach","letter","start","times","arrLen","len","prevTime","nextTime","push","log","init","config"],"mappings":"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"}